# Задание 3&#46;

##

Для решения этой задачи вам нужно узнать кое-что новое. Методы класса могут быть использованы в качестве «альтернативных конструкторов»: с помощью методов класса можно создавать новые экземпляры класса.

В качестве примера можно посмотреть на встроенный класс `date`: у этого класса есть класс-метод `date.today()`, который создаёт объект текущей даты — и при этом нет необходимости передавать в конструктор в явном виде дату и время.

## А теперь — задача&#46;

При регистрации в социальной сети пользователю дана возможность указать или имя с фамилией (например, `Стас Басов`), или псевдоним — абстрактное имя пользователя (например, `nestas_anonymous`).

В прекоде создан класс `User` — он отвечает за управление пользователями.

В классе есть атрибуты

* `first_name` — имя пользователя,
* `last_name` — фамилия пользователя,
* `username` — псевдоним пользователя.

По соображениям безопасности псевдоним пользователя не должен начинаться со слова `'admin'`.

В классе `User` объявлены

* пустой метод класса `with_name()` — возвращает объект класса `User`:
  * должен принимать на вход имя и фамилию пользователя,
  * должен возвращать объект класса `User` с заполненными атрибутами `first_name` и `last_name`;

* пустой метод класса `with_username()` — возвращает объект класса `User`:
  * должен принимать на вход псевдоним пользователя;
  * при помощи статического метода `is_username_allowed()` метод `with_username()` должен проверять, разрешено ли использование полученного псевдонима. Если псевдоним некорректный — метод `with_username()` должен выбрасывать исключение `ValueError` с сообщением `Некорректное имя пользователя`;
  * должен возвращать объект класса `User` с заполненным атрибутом `username`;

* пустой статический метод класса `is_username_allowed()` — проверяет псевдонимы на соответствие правилам:
  * должен принимать на вход значение атрибута `username`;
  * возвращать `True`, если `username` не начинается с подстроки `'admin'`;

* пустой метод-свойство `full_name()` — возвращает информацию о пользователе:
  * если для объекта заданы значения атрибутов `first_name` и `last_name`, то метод должен вернуть имя пользователя в виде `first_name` `last_name` (например: `Стас Басов`);
  * если для объекта задано значение атрибута `username`, то метод должен вернуть имя пользователя в виде `@username` (например: `@nestas_anonymous`).

Допишите все методы и свойство класса `User`.

## Code&#58;

```python
from typing import Optional


class User:
    def __init__(
            self,
            first_name: Optional[str] = None,
            last_name: Optional[str] = None,
            username: Optional[str] = None,
    ):
        if not first_name and not last_name and not username:
            raise ValueError('Необходимо указать параметры пользователя')

        self.first_name = first_name
        self.last_name = last_name
        self.username = username

    # Опишите метод класса with_name.
    @classmethod
    def with_name(
        pass
    ):

    # Опишите метод класса with_username.
    @classmethod
    def with_username(
        pass
    ):

    # Опишите статический метод класса is_username_allowed.
    @staticmethod
    def is_username_allowed(username: str):
        ...

    # Опишите метод-свойство full_name.
    @property
    def full_name(self):
        ...


stas = User.with_name('Стас', 'Басов')
print(stas.full_name)

# Попробуем создать пользователя с "запрещённым" именем.
# ne_stas = User.with_username('admin_nestas_anonymous')
```
